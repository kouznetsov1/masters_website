{"ast":null,"code":"import cloneDeep from \"lodash/cloneDeep\";\nexport function setCourses(nonHandledCourses) {\n  const courses_mount = cloneDeep(nonHandledCourses);\n  const all_areas = [];\n  const courses = {\n    name: [],\n    course: []\n  };\n  var course_id = 0;\n\n  for (let i = 0; i < courses_mount.length; i++) {\n    var course = courses_mount[i];\n\n    if (!all_areas.includes(course.area)) {\n      all_areas.push(course.area);\n    }\n\n    if (!courses.name.includes(course.name)) {\n      course = fixCourseDatatypes(course);\n      course.id = course_id;\n      course_id++;\n      courses.name.push(course.name);\n      courses.course.push(course);\n      course.checked = false;\n    } else {\n      var index = courses.name.indexOf(course.name);\n\n      if (!courses.course[index].area.includes(course.area)) {\n        courses.course[index].area.push(course.area);\n      }\n\n      var dynamic_values = courses.course[index].dynamic_values;\n      var dyn_values = setDynamicValues(course);\n      courses.course[index].dynamic_values.push(dyn_values);\n      var dyn_val_unique = courses.course[index].dynamic_values.reduce((unique, o) => {\n        if (!unique.some(obj => obj.semester === o.semester && obj.block === o.block && obj.period === o.period)) {\n          unique.push(o);\n        }\n\n        return unique;\n      }, []);\n      courses.course[index].dynamic_values = dyn_val_unique;\n    }\n  }\n\n  return [courses, all_areas];\n}\n;\n\nfunction setDynamicValues(course) {\n  var dynamic_values = {\n    semester: course.semester,\n    block: course.block,\n    period: course.period,\n    checked_here: false\n  };\n  return dynamic_values;\n} // variable needs to be of type array for the ones below\n\n\nfunction fixCourseDatatypes(course) {\n  course.dynamic_values = [setDynamicValues(course)];\n  course.area = [course.area];\n  return course;\n}\n\nexport default setCourses;","map":{"version":3,"sources":["/home/daniel/Documents/Projects/masters_website/client/src/pages/functions/CourseSetter.js"],"names":["cloneDeep","setCourses","nonHandledCourses","courses_mount","all_areas","courses","name","course","course_id","i","length","includes","area","push","fixCourseDatatypes","id","checked","index","indexOf","dynamic_values","dyn_values","setDynamicValues","dyn_val_unique","reduce","unique","o","some","obj","semester","block","period","checked_here"],"mappings":"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","sourcesContent":["import cloneDeep from \"lodash/cloneDeep\";\n\nexport function setCourses(nonHandledCourses) {\n  const courses_mount = cloneDeep(nonHandledCourses);\n  const all_areas = [];\n  const courses = {\n    name: [],\n    course: [],\n  };\n\n  var course_id = 0;\n  \n  for (let i = 0; i < courses_mount.length; i++) {\n    var course = courses_mount[i];\n\n    if (!all_areas.includes(course.area)) {\n      all_areas.push(course.area);\n    }\n\n    if (!courses.name.includes(course.name)) {\n      course = fixCourseDatatypes(course);\n      course.id = course_id;\n      course_id++;\n      courses.name.push(course.name);\n      courses.course.push(course);\n      course.checked = false;\n    } else {\n      var index = courses.name.indexOf(course.name);\n\n      if (!courses.course[index].area.includes(course.area)) {\n        courses.course[index].area.push(course.area);\n      }\n\n      var dynamic_values = courses.course[index].dynamic_values;\n      var dyn_values = setDynamicValues(course);\n\n      courses.course[index].dynamic_values.push(dyn_values);\n\n      var dyn_val_unique = courses.course[index].dynamic_values.reduce(\n        (unique, o) => {\n          if (\n            !unique.some(\n              (obj) =>\n                obj.semester === o.semester &&\n                obj.block === o.block &&\n                obj.period === o.period\n            )\n          ) {\n            unique.push(o);\n          }\n          return unique;\n        },\n        []\n      );\n      courses.course[index].dynamic_values = dyn_val_unique;\n    }\n  }\n  return [courses, all_areas];\n};\n\n\n\nfunction setDynamicValues(course) {\n  var dynamic_values = {\n    semester: course.semester,\n    block: course.block,\n    period: course.period,\n    checked_here: false,\n  };\n  return dynamic_values;\n}\n\n// variable needs to be of type array for the ones below\nfunction fixCourseDatatypes(course) {\n  course.dynamic_values = [setDynamicValues(course)];\n  course.area = [course.area];\n  return course;\n}\n\nexport default setCourses;"]},"metadata":{},"sourceType":"module"}